<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kristen & Ruoyu</title>
    <link rel="stylesheet" href="main.css" />
  </head>

  <body>
    <header>
      <nav>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About Us</a></li>
          <li><a href="#events">Events</a></li>
        </ul>
      </nav>
    </header>
    <div class="landing">
      <div class="envlope-wrapper">
        <div id="envelope" class="close floating">
          <div class="front flap"></div>
          <div class="front pocket"></div>
          <div class="letter">
            <div class="words line1">
              <svg width="100%" height="100%">
                <text class="text" y="50%">Dear Guest,</text>
              </svg>
            </div>
            <div class="words line2">
              <svg width="100%" height="100%">
                <text class="text" y="50%">November 16, 2024 @ 3:30 PM</text>
              </svg>
            </div>
            <div class="words line3">
              <svg width="100%" height="100%">
                <text class="text" y="50%">
                  Colony House, 401 N Anaheim Blvd, Anaheim, CA 92805
                </text>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <section class="details-section">
      <h2>Details</h2>
      <p>Details about the wedding events and schedule.</p>
    </section>

    <footer>
      <p>&copy; 2024 Kristen & Ruoyu's Wedding</p>
    </footer>
  </body>

  <script>
    function openEnvelope() {
      envelope.classList.add("open");
      envelope.classList.remove("close");
      document.querySelectorAll(".text").forEach((element) => {
        element.classList.add("animate-text");
      });
      envelope_is_open = true;
      open_counter += 1;
    }
    function closeEnvelope() {
      envelope.classList.add("close");
      envelope.classList.remove("open");
      envelope_is_open = false;
    }

    var envelope_is_open = false;
    var open_counter = 0;

    document.addEventListener("DOMContentLoaded", function () {
      var envelope = document.querySelector("#envelope");
      var btn_open = document.querySelector("#open");
      var btn_reset = document.querySelector("#reset");

      envelope.addEventListener("click", function () {
        if (envelope_is_open && open_counter % 2 == 0) {
          closeEnvelope();
        } else {
          openEnvelope();
        }
      });
      btn_open.addEventListener("click", function () {
        openEnvelope();
      });
      btn_reset.addEventListener("click", function () {
        closeEnvelope();
      });
    });
  </script>
</html>
