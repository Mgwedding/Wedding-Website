<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Thanks for peeking. Take a look around, but nothing too fancy to see here. -->
    <title>Kristen & Ruoyu</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Ryca" />
    <meta
      name="description"
      content="Save the date landing page for Kristen and Ruoyu's November 2024 wedding."
    />
    <link rel="stylesheet" href="main.css" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./assets/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./assets/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./assets/favicon/favicon-16x16.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="landing">
      <!-- <header>
        <nav>
          <ul class="primary-font">
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#events">Events</a></li>
          </ul>
        </nav>
      </header> -->
      <video
        autoplay
        loop
        muted
        playsinline
        poster="./assets/fountain-proposal.png"
      >
        <source src="./assets/Hero Video.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="landing-text">
        <h1 class="primary-font">Kristen & Ruoyu</h1>
      </div>
      <div class="arrows"></div>
    </div>

    <section class="countdown-section">
      <div class="date-text primary-font">
        <h1>November 11, 2024 3:30 PM</h1>
      </div>
      <div class="countdown-text secondary-font">
        <h2 class="countdown-day">00 DAYS</h2>
        <h2 class="countdown-hour">00 HOURS</h2>
        <h2 class="countdown-minute">00 MINUTES</h2>
        <h2 class="countdown-second">00 SECONDS</h2>
      </div>
    </section>

    <section class="details-section">
      <div class="envlope-wrapper">
        <div id="envelope" class="close floating">
          <div class="front flap"></div>
          <div class="front pocket"></div>

          <div class="letter primary-font">
            <div class="words">
              <p class="intro">Dear Guest,</p>
              <p>
                We would like to cordially invite you to celebrate with us on
                November 16, 2024 @ 3:30 PM at Colony House 401 N Anaheim Blvd,
                Anaheim, CA 92805
              </p>
            </div>
            <img
              class="letter-stamp"
              alt="green flowers"
              src="./assets/green-flower.png"
            />
          </div>
          <img
            class="click-btn"
            alt="pointer clicking"
            src="./assets/click.png"
          />
        </div>
      </div>
    </section>

    <footer class="primary-font">
      <p>&copy; 2024 Kristen & Ruoyu's Wedding</p>
    </footer>
  </body>

  <script>
    var envelope_is_open = false;
    var open_counter = 0;

    function countdownTimer() {
      var endTime = new Date("November 16, 2024 15:30:00 PDT");
      var endTime = Date.parse(endTime) / 1000;

      var now = new Date();
      var now = Date.parse(now) / 1000;

      var timeLeft = endTime - now;

      var days = Math.floor(timeLeft / 86400); // 86400 seconds in a day
      var hours = Math.floor((timeLeft - days * 86400) / 3600); // 3600 seconds in an hour
      var minutes = Math.floor((timeLeft - days * 86400 - hours * 3600) / 60);
      var seconds = Math.floor(
        timeLeft - days * 86400 - hours * 3600 - minutes * 60
      );

      if (hours < "10") {
        hours = "0" + hours;
      }
      if (minutes < "10") {
        minutes = "0" + minutes;
      }
      if (seconds < "10") {
        seconds = "0" + seconds;
      }

      document.querySelector(".countdown-day").innerHTML = days + " DAYS";
      document.querySelector(".countdown-hour").innerHTML = hours + " HOURS";
      document.querySelector(".countdown-minute").innerHTML =
        minutes + " MINUTES";
      document.querySelector(".countdown-second").innerHTML =
        seconds + " SECONDS";
    }

    setInterval(function () {
      countdownTimer();
    }, 1000);

    function openEnvelope() {
      envelope.classList.add("open");
      envelope.classList.remove("close");
      envelope.classList.remove("floating");
      document.querySelectorAll(".text").forEach((element) => {
        element.classList.add("animate-text");
      });
      envelope_is_open = true;
      open_counter += 1;
    }
    function closeEnvelope() {
      envelope.classList.add("close");
      envelope.classList.add("floating");
      envelope.classList.remove("open");
      envelope_is_open = false;
    }

    document.addEventListener("DOMContentLoaded", function () {
      var envelope = document.querySelector("#envelope");
      var btn_open = document.querySelector("#open");
      var btn_reset = document.querySelector("#reset");
      var scroll_arrows = document.querySelector(".arrows");

      scroll_arrows.addEventListener("click", function () {
        document
          .querySelector(".countdown-section")
          .scrollIntoView({ behavior: "smooth" });
      });
      envelope.addEventListener("click", function () {
        if (envelope_is_open && open_counter % 2 == 0) {
          closeEnvelope();
        } else {
          openEnvelope();
        }
      });
      btn_open.addEventListener("click", function () {
        openEnvelope();
      });
      btn_reset.addEventListener("click", function () {
        closeEnvelope();
      });
    });
  </script>
</html>
